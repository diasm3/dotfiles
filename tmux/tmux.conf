setw -g mode-keys vi
# macOS
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "pbcopy"

unbind C-b
set -g prefix C-a
bind C-a send-prefix

# 마우스 지원
set -g mouse on

# 256 컬러 지원
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# 인덱스 1부터 시작
set -g base-index 1
setw -g pane-base-index 1

# 분할 키 변경 (더 직관적)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"


# 아래 터미널 토글 - 세션 유지됨 (Ctrl+a t)
bind t run-shell '\
    if tmux has-session -t scratch 2>/dev/null; then \
        tmux display-popup -E -w 100% -h 40% -d "#{pane_current_path}" "tmux attach -t scratch"; \
    else \
        tmux display-popup -E -w 100% -h 40% -d "#{pane_current_path}" "tmux new -s scratch"; \
    fi'



# copy-mode에서 C-w 해제
unbind -T copy-mode C-w
unbind -n \\

# copy-mode에서 vim 스타일 키
setw -g mode-keys vi

# v로 선택 시작, y로 복사
bind -T copy-mode-vi v send -X begin-selection

