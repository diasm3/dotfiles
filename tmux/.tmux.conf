set -gq utf8 on
set -gq status-utf8 on
setw -gq utf8 on

setw -g mode-keys vi
# macOS
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "pbcopy"

unbind C-b
set -g prefix C-a
bind C-a send-prefix

# 마우스 지원
set -g mouse on

# OSC 52 clipboard passthrough (SSH remote copy)
set -g allow-passthrough on
set -g set-clipboard on

# 256 컬러 지원
set -g default-terminal "tmux-256color"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'

# 인덱스 1부터 시작
set -g base-index 1
setw -g pane-base-index 1

# 분할 키 변경 (더 직관적)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"


# 아래 터미널 토글 - 세션 유지됨 (Ctrl+a t)
bind t run-shell '\
    if tmux has-session -t scratch 2>/dev/null; then \
        tmux display-popup -E -w 100% -h 40% -d "#{pane_current_path}" "tmux attach -t scratch"; \
    else \
        tmux display-popup -E -w 100% -h 40% -d "#{pane_current_path}" "tmux new -s scratch"; \
    fi'




